# 安全算法
> 数据传输的4个问题
- 窃听
A向B发送消息的过程中， 消息可能被窃听。
解决：加密。

- 假冒
A向B发送消息，然而B有可能是X冒充的。反过来讲，A也可能是X冒充的。
解决： 消息验证码或数字签名。
1、A给想要传给B的数据进行加密，加密后的数据被称为“密文”。
2、然后将密文发送给B。
3、B收到密文后，需要将密文解密才能得到原本的数据。把密文恢复到原本的数据，就叫解密。
4、A将秘钥发送给B。
- 篡改
即便B收到了A发送的消息，也可能是被X篡改过的。
解决： 消息验证码或数字签名。

- 事后否认
B收到了A发过来的带有恶意的消息，但是A却否认是他发的。

# 加密算法
###  哈希函数
可以把给定的数据转换成固定长度的无规律哈希值。转换后的哈希值可以作为*数据摘要*。哈希值虽然是数字，但多用十六进制表示。

> 特征
- 1、输出长度不变，与输入的数据长度无关。
- 2、输入的数据相同哈希值必定相同, 前提是使用相同的哈希算法。
- 3、即使输入的数据相似，哪怕只有1比特的差别，那么输出的哈希值也会有很大的差别。
- 4、即使输入的两eg数据完全不同输出的哈希值也有可能是相同的。虽然出现的概率比较低， 这种现象叫做“哈希冲突”。
- 5、不可能从哈希值反推原来的数据。输入和输出不可逆。
- 6、求哈希值的计算相对容易。

> 常见的哈希算法
- MD5
- SHA-1
- SHA-2

> *SHA-2使用较广泛， MD5和SHA-1存在安全隐患，不推荐使用*



### 共享秘钥加密
加密数据的方法可以分为两种：
- 加密和解密都使用相同秘钥的*共享秘钥加密*，分别使用不同秘钥的*公开秘钥加密*。
- 共享秘钥加密是加密和解密都使用相同秘钥的一种加密方式，由于使用的秘钥相同，所以这种算法也成为*对称加密*。

> 共享加密流程：

- 1、A把想要传给B的数据使用秘钥进行加密，加密后的数据被称为“密文”。然后将密文发送给B。
- 2、B收到密文后，使用相同的秘钥把密文恢复到原本的数据。
- 3、假设A需要通过某种手段将秘钥交给B，和密文一样，A又在互联网上向B发送了密钥。B使用收到的密钥对密文进行解密。所以会有一个问题，密钥也可能被X窃听，这样一来，X也可以
使用秘钥对密文进行解密了。

> 常见的共享秘钥加密算法
- 凯撒密码
- AES
- DES
- 动态口令

其中`AES`应用最广泛。


### 公开秘钥加密
- 公开秘钥加密是加密和解密使用不同秘钥的一种加密方法。由于使用的秘钥不同所以这种算法页被称为“非对称加密”。
- 加密的用的秘钥叫做“公开秘钥”，解密用的秘钥叫做“私有秘钥”。

> 公开秘钥加密流程
- 1、假设A准备通过互联网向B发送数据。
- 2、由接收方B来生成公开秘钥和私有秘钥，然后把公开秘钥发给A。
- 3、A使用B发来的公开秘钥加密数据。
- 4、A将密文发送给B, B再使用私有秘钥对密文进行解密。这样B就得到了原本的数据。
- 5、公开秘钥和密文都是通过互联网传输的，因此可能会被X窃听。但是公开秘钥无法解密密文，因此X也无法得到原本的数据。 
*注意：公开秘钥是不怕被人知道的， 但是私有秘钥不能被人知道。*


> 公开秘钥的问题：X想要窃听A发送给B的数据，于是X也准备了公开秘钥和私有秘钥。
- 1、在B把公开秘钥发送给A的时候， X把公开秘钥替换成自己的公开秘钥，然后发送给A
    由于公开秘钥无法显示自己是由谁生成的，所以A不会发现自己收到的公开秘钥已经被人替换。
- 2、当A把想要给B的密文发送出去后， X接收了这个密文并解密，接下来X用B生成的公开密钥加密数据发送给B。
- 3、从收到密文到解密密文都没发生任何问题，因此B页意识不到数据已经被窃听。这种通过中途替换公开密钥来窃听数据的攻击，叫*中间人攻击*。

公开秘钥的可靠性会出现问题就是因为A无法判断收到的公开秘钥是否来自B。想要解决这个问题，就要用到"数字证书"。
还有一个问题就是加密和解密都比较耗时。

> 实现公开秘钥加密的算法
- RSA算法
- 椭圆曲线加密算法
其中使用最广泛的是RSA算法。


###  混合加密
> 共享秘钥加密存在无法安全传输秘钥的问题，公开秘钥加密又存在加密解密的速度较慢的问题。
将两者结合就可以实现一种互补的加密方式，“混合加密”。
- 1、假设A向B发送消息。
- 2、A先用*共享秘钥*对数据进行加密, 得到数据密文。
- 3、A然后用*公开秘钥*对*共享秘钥*进行加密, 得到秘钥密文。
- 4、A将数据密文和共享秘钥密文发送给B。
- 5、B使用公开秘钥对应的私有秘钥解密得到共享秘钥，再拿共享秘钥去解密数据密文得到真正的数据。

> B要实现生成公开秘钥，然后A从B那里获取公开秘钥, 使用公开秘钥对数据和共享秘钥加密传输给A。
解决了共享秘钥加密，秘钥发送的安全问题。

- 迪菲-赫尔曼秘钥交换


































