## 摘要

setTimeout和setInterval的对比。

##### 相同点

1. 第一个参数是cb代表的是回调函数callback，第二个代表的是时间，以ms计算，**第三个参数以后是cb的参数**
2. 返回值都是一个整数用于取消定时器任务的执行。
3. 实际的执行时间可能不会按照预期的时间执行。
4. 回调函数this指向的是全局对象，除非bind了this。

##### 不同点

1. setTimeout含义是定时器，到达一定的时间触发一次，但是setInterval含义是计时器，到达一定时间触发一次，并且会持续触发。

## setTimeout的使用

```
setTimeout(cb, time, ...args);
```

第一个参数是cb代表的是回调函数callback，第二个代表的是时间，以ms计算，第三个参数以后是cb的参数。

```javascript
setTimeout((a, b, c) => {
  console.log(a, b, c)
}, 1000, 1, 2, 3)
```



## setInterval的使用

```
setInterval(cb, time, ...args);
```

第一个参数是cb代表的是回调函数callback，第二个代表的是时间，以ms计算，第三个参数以后是cb的参数。

```javascript
setInterval((a, b, c) => {
  console.log(a, b, c)
}, 1000, 1, 2, 3)
```

**setInterval执行的时间可能和预期的不一样。**

- 第一个当执行时间小于100ms的时候

![小于100ms](image/86cae25cc382badfe4eec7bd35f4ef39~tplv-t2oaga2asx-watermark.awebp)

- 第二个大于100ms时，如150ms这样的在第二个周期之内
  当执行完后他会立即触发第二次。

![100ms～200ms之间](image/9146cb788bb357bdb62f3facc2c12613~tplv-t2oaga2asx-watermark.awebp)

- 那我们来看一下第三种情况，如500ms，远远大于100ms
  其实根据setInterval的机制，他会抛弃掉中间所发生的，我们用图表来看一看就明白了。

![远大于100ms](image/a6b701087bdae23192cfec76421e8ac0~tplv-t2oaga2asx-watermark.awebp)



**思考：** 

1. 根据上面3种情况如何设计一个前后两次回调执行的间隔是等于设置的时间间隔的？使用setTimeout实现。
2. 商城项目里面的倒计时如何和服务器时间同步？