<!DOCTYPE html>
      <html>
          <head>
          <meta charset="utf-8" >
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <title>问题.md</title>
          <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github-gist.min.css" rel="stylesheet">  
          <style>
              .markdown-body {
                  box-sizing: border-box;
                  min-width: 200px;
                  max-width: 980px;
                  margin: 0 auto;
                  padding: 45px;
              }
              .markdown-body img {
                  box-sizing: border-box !important;
                  margin:10px 0 10px 2%;
                  padding: 20px;
                  width: 96%;
                  border-radius: 4px;
                  box-shadow: 0 0 6px 0px #999;
              }
              @media (max-width: 767px) {
                  .markdown-body {
                      padding: 15px;
                  }
              }
              .markdown-body > iframe {
                width: 100%;
                height: 100vh;
                border: none;
              }
              @font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,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) format('woff')}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:0}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{background-color:#b31d28;color:#fafbfc}.markdown-body .pl-c2{background-color:#d73a49;color:#fafbfc}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{color:#22863a;font-weight:700}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{color:#005cc5;font-weight:700}.markdown-body .pl-mi{color:#24292e;font-style:italic}.markdown-body .pl-mb{color:#24292e;font-weight:700}.markdown-body .pl-md{background-color:#ffeef0;color:#b31d28}.markdown-body .pl-mi1{background-color:#f0fff4;color:#22863a}.markdown-body .pl-mc{background-color:#ffebda;color:#e36209}.markdown-body .pl-mi2{background-color:#005cc5;color:#f6f8fa}.markdown-body .pl-mdr{color:#6f42c1;font-weight:700}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{color:#032f62;text-decoration:underline}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:transparent}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{font-size:2em;margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:content-box;height:0;overflow:visible}.markdown-body input{font:inherit;margin:0}.markdown-body input{overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{background:0 0;border:0;border-bottom:1px solid #dfe2e5;height:0;margin:15px 0;overflow:hidden}.markdown-body hr:before{content:"";display:table}.markdown-body hr:after{clear:both;content:"";display:table}.markdown-body table{border-collapse:collapse;border-spacing:0}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-bottom:0;margin-top:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-bottom:10px;margin-top:0}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{margin-bottom:0;margin-top:0;padding-left:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.markdown-body pre{margin-bottom:0;margin-top:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-bottom:0!important;padding-top:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-bottom:8px!important;padding-top:8px!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body:before{content:"";display:table}.markdown-body:after{clear:both;content:"";display:table}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-bottom:16px;margin-top:0}.markdown-body hr{background-color:#e1e4e8;border:0;height:.25em;margin:24px 0;padding:0}.markdown-body blockquote{border-left:.25em solid #dfe2e5;color:#6a737d;padding:0 1em}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{background-color:#fafbfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5;color:#444d56;display:inline-block;font-size:11px;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{border-bottom:1px solid #eaecef;padding-bottom:.3em}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{color:#6a737d;font-size:.85em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0;margin-top:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown-body dl dd{margin-bottom:16px;padding:0 16px}.markdown-body table{display:block;overflow:auto;width:100%}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:6px 13px}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{background-color:#fff;box-sizing:content-box;max-width:100%}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em .4em}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{background:0 0;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown-body pre code{background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0;word-wrap:normal}.markdown-body .commit-tease-sha{color:#444d56;display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:90%}.markdown-body .blob-wrapper{border-bottom-left-radius:3px;border-bottom-right-radius:3px;overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:rgba(27,31,35,.3);cursor:pointer;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;min-width:50px;padding-left:10px;padding-right:10px;text-align:right;user-select:none;vertical-align:top;white-space:nowrap;width:1%}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{line-height:20px;padding-left:10px;padding-right:10px;position:relative;vertical-align:top}.markdown-body .blob-code-inner{color:#24292e;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;overflow:visible;white-space:pre;word-wrap:normal}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{background:#ffea7f;cursor:pointer}.markdown-body kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-body :checked+.radio-label{border-color:#0366d6;position:relative;z-index:1}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}
/*# sourceMappingURL=github-markdown.min.css.map */
          </style>
          <script>
              window.onload = function() {
                hljs.initHighlighting()
              }
          </script>
          </head>
          <body>
            <article class="markdown-body">
                <h1 id="数据篇">数据篇</h1>
<h1 id="observer">Observer</h1>
<ul>
<li>1、Dep、Observer、Watcher三者之间的联系？依赖收集的过程？使用了什么设计模式？</li>
<li>2、Observer内部是怎样对数组进行处理的？针对支持<code>__proto__</code>和不支持<code>__proto__</code>的运行环境是怎么分别处理的？</li>
<li>3、为什么要使用<code>$set</code>给对象新增属性？ 为什么不能给组件data对象添加根属性?</li>
</ul>
<h1 id="dep">Dep</h1>
<ul>
<li>作用是什么？</li>
</ul>
<h1 id="watcher">Watcher</h1>
<ul>
<li>1、Watcher可以分为哪三类？</li>
<li>2、为什么<code>computed watcher</code>要懒计算？</li>
<li>3、<code>computed</code>属性缓存计算结果是怎么实现的？</li>
<li>4、<code>computed</code>属性依赖变化了会立即重新计算值吗？是同步的还是异步的？</li>
<li>5、<code>computed</code>使用<code>deep</code>时做了什么特殊处理？</li>
<li>6、<code>render watcher</code>执行时是异步的吗？</li>
<li>7、</li>
</ul>
<h1 id="computed">Computed</h1>
<ul>
<li>1、实现原理？<pre><code class="language-js">const computedWatcher = new Watcher(vm, userGetter/*定义的computed get函数*/)
Object.defineProperty(vm, &#39;computedKey&#39;, {
  get() {
      return computedWatcher.value
  }
})</code></pre>
</li>
<li>2、怎样设置<code>computed</code>不缓存结果, 就算依赖未发生变化也重新计算？</li>
<li>3、假设计算属性b依赖组件数据<code>data.a</code>, 那么当<code>data.a</code>改变时是怎么通知到使用了计算属性b的watcher的？</li>
</ul>
<h1 id="beforecreate">beforeCreate</h1>
<ul>
<li>beforCreate之前做了哪些事情？</li>
<li>在beforeCreate能访问到data、perops、computed吗？为什么？</li>
<li>beforeCreate的使用场景？</li>
</ul>
<h1 id="created">created</h1>
<ul>
<li>beforCreate和created之间做了哪些事情？</li>
</ul>
<h1 id="任务调度篇">任务调度篇</h1>
<h1 id="nexttick">nextTick</h1>
<ul>
<li>作用是什么？</li>
<li>nextTick是使用什么方式来做到异步处理任务队列的？是怎样做到优雅降级的？</li>
<li>能否自己实现一个nextTick？</li>
</ul>
<h1 id="queuewatcherrender-watcher-队列">queueWatcher(render Watcher 队列)</h1>
<ul>
<li>作用是什么？</li>
<li>为什么要异步更新renderWatcher？</li>
<li>为什么要使用队列？而不是每个renderWatcher都直接使用nextTick? nextTick本身已经有自己的队列了, 能够保证同步加入nextTick的wathcer能够在
  同一轮异步任务中执行。</li>
</ul>
<h1 id="视图篇">视图篇</h1>
<h1 id="beforemount">beforeMount</h1>
<ul>
<li>什么时候执行的？</li>
</ul>
<h1 id="组件">组件</h1>
<ul>
<li>第一次渲染是同步还是异步？ 第二次以后呢？</li>
</ul>
<h1 id="renderwathcer">renderWathcer</h1>
<ul>
<li>作用？</li>
<li>vnode是什么？</li>
</ul>
<h1 id="render">render</h1>
<ul>
<li>作用？</li>
<li>组件第一次执行render方法是什么时候？</li>
<li>使用vnode的优势？劣势？</li>
</ul>
<h1 id="slot">slot</h1>
<ul>
<li><p>vm.$scopedSlots?</p>
</li>
<li><p>vm.$slots?</p>
</li>
<li><p>在执行render方法之前<code>vm.$scopedSlots</code>和<code>vm.$slots</code>就已经准备好了。</p>
</li>
<li><p>slot是怎样渲染的？</p>
</li>
<li><p><em>为什么组件内部只能有一个根节点？</em></p>
</li>
<li><p>vm._vnode和vm.$vnode分别是什么？ </p>
<ul>
<li>对于组件B来说，<code>vm.$vnode</code>是在组件B的父组件A的上下文内生成的一个vnode节点。组件B就是根据<code>$vnode</code>来渲染的，父组件A传给组件B的数据也都
保存在<code>$vnode</code>上。同时在创建组件B的时候，在内部创建的根节点就是<code>vm._vnode</code>, 这个节点描述了组件B需要生成的dom树的细节。</li>
</ul>
</li>
<li><p>slot标签是怎么处理的？</p>
</li>
</ul>
<h1 id="createelement">$createElement</h1>
<p><code>$createElement(tag, data, children)</code></p>
<ul>
<li><p>tag可以传入的值</p>
<ul>
<li>字符串<ul>
<li>内置标签<ul>
<li>创建普通的vnode节点</li>
</ul>
</li>
<li>自定义组件<ul>
<li>根据tag获取到组件的options对象或者构造函数</li>
<li>调用createComponent创建vnode</li>
</ul>
</li>
</ul>
</li>
<li>options对象<ul>
<li>调用createComponent</li>
</ul>
</li>
<li>Vue.extend()返回的构造函数<ul>
<li>调用createComponent创建vnode</li>
</ul>
</li>
<li>空<ul>
<li>创建空的vnode节点</li>
</ul>
</li>
</ul>
</li>
<li><p>data</p>
<ul>
<li>is</li>
<li>key</li>
<li>scopedSlots</li>
</ul>
</li>
<li><p>children</p>
</li>
</ul>
<h1 id="createcomponent创建组件的vnode节点">createComponent创建组件的vnode节点</h1>
<h3 id="传给createcomponent的参数可能有哪几种情况？">传给<code>createComponent</code>的参数可能有哪几种情况？</h3>
<pre><code>- options对象
    - 使用Vue.extend处理options
- 组件构造函数</code></pre><h3 id="异步组件是怎么处理的">异步组件是怎么处理的?</h3>
<pre><code>- 组件已加载如何处理
- 组件还未加载如何处理</code></pre><h3 id="为什要多次调用resolveconstructoroptions（未解决）">为什要多次调用<code>resolveConstructorOptions</code>?（未解决）</h3>
<ul>
<li><code>v-model</code>是怎么处理的？
v-model只是语法糖，是使用<code>props</code>和<code>events</code>实现的。
下面的例子是<code>v-model=&quot;formData.subjectCode&quot;</code>绑定的例子：<pre><code class="language-js">data: {
  model: {
      value: _vm.formData.subjectCode,
      callback: function($v) {
          _vm.$set(_vm.formData, &quot;subjectCode&quot;, $v)
      },
      expression: &quot;formData.subjectCode&quot;
  }
}</code></pre>
处理的逻辑如下<pre><code class="language-js">function transformModel (options, data: any) {
const prop = (options.model &amp;&amp; options.model.prop) || &#39;value&#39;
const event = (options.model &amp;&amp; options.model.event) || &#39;input&#39;
;(data.attrs || (data.attrs = {}))[prop] = data.model.value
const on = data.on || (data.on = {})
const existing = on[event]
const callback = data.model.callback
if (isDef(existing)) {
  if (
    Array.isArray(existing)
      ? existing.indexOf(callback) === -1
      : existing !== callback
  ) {
    on[event] = [callback].concat(existing)
  }
} else {
  on[event] = callback
}
}</code></pre>
</li>
</ul>
<h3 id="处理props、attrs得到props">处理props、attrs得到props</h3>
<pre><code>- 组件options上定义的props会从`data.props`和`data.attrs`上找到值
- attrs和props不同的是，如果是从attrs上查找到的将会从attrs上删除</code></pre><h3 id="安装hook">安装hook</h3>
<pre><code class="language-js">const componentVNodeHooks = {
  init (vnode: VNodeWithData, hydrating: boolean): ?boolean {
     // 1.const child = createComponentInstanceForVnode
     // 2.child.$mount(hydrating ? vnode.elm : undefined, hydrating)
  },

  prepatch (oldVnode: MountedComponentVNode, vnode: MountedComponentVNode) {
    // 1.updateChildComponent
  },

  insert (vnode: MountedComponentVNode) {
    // 1.callHook(componentInstance, &#39;mounted&#39;)
  },

  destroy (vnode: MountedComponentVNode) {
    // 当vnode节点销毁时对应的组件实例也会被销毁
    // 1.componentInstance.$destroy()
  }
}</code></pre>
<h3 id="children和slot的区别？">children和slot的区别？</h3>
<h3 id="slot和children是怎样获取的？">slot和children是怎样获取的？</h3>
<ul>
<li>在<code>this._init</code>中处理内部创建的组件实例时执行<code>initInternalComponent</code>时从<code>parentVnode.componentOptions</code>上获取的
  而<code>componentOptions</code>是在创建vnode时传过去的。</li>
<li>遍历$options._renderChildren得到，data.slot存在则保存到具名vm.$slots上，不存在就保存在$slots.default上。</li>
</ul>
<h1 id="patch">patch</h1>
<ul>
<li><p>为什么要使用<code>createPatchFunction</code>？</p>
</li>
<li><p>创建<code>createPatchFunction</code>的时候传入了什么参数？</p>
<ul>
<li>传入定义的模块，比如基本模块(directives、ref), 平台模块(attrs、class、dom-props、events、style、transition)。<em>什么是模块？</em></li>
<li>传入与平台相关的底层视图操作api, 比如在web环境就是封装好的一些dom操作api，提供patch内部使用。</li>
</ul>
</li>
<li><p><code>__patch__</code>(oldVnode, vnode)</p>
<ul>
<li><p>oldvnode不存在或者oldvnode是一个dom元素</p>
<ul>
<li>createElm的逻辑<ul>
<li>1、创建组件<ul>
<li>调用createComponent<ul>
<li>执行vnode.data.hook.init<ul>
<li>执行createComponentInstanceForVnode，根据vnode创建组件实例vm<ul>
<li>组建创建内部组件用到的internalComponentsOptions<pre><code class="language-js">      const options: InternalComponentOptions = {
          _isComponent: true, // 是否是自定义组件
          _parentVnode: vnode, // 子组件的$Vnode
          parent               //  父组件的实例vm
      }</code></pre>
</li>
<li>处理inline-template</li>
<li>调用<code>new vnode.componentOptions.Ctor(options)</code></li>
<li>然后又重新开始创建组件的逻辑。与创建根组件不同的地方：<ul>
<li>根组件是执行mergeOptions的逻辑</li>
<li>非根组件是执行initInternalComponent的逻辑</li>
</ul>
</li>
</ul>
</li>
<li>子组件实例创建成功后生成的dom元素就是$el，将实例vm赋值给vnode.componentInstance</li>
<li>子组件调用$mount(), 挂载的dom元素是空的，</li>
<li>执行完$mount()后生成的dom元素并没有插入到父节点中，也没有执行生命周期mounted</li>
</ul>
</li>
<li>initComponent, 如果创建出了vnode的组件实例， 也就是vnode.componentInstance存在的时候就对组件实例初始化<ul>
<li>前面已经知道了每个组件在patch的时候都会有一个insertedVnodeQueue数组，这里会将子组件的insertedVnodeQueue队列合并到父组件的insertedVnodeQueue队列中去
  并且清空子组件的insertedVnodeQueue队列</li>
<li>vnode.elm = vnode.componentInstance.$el</li>
<li>invokeCreateHooks<ul>
<li>调用vnode.data.hook.create，更新组件根节点的属性，事件等等</li>
<li>如果vnode.data.hook.insert存在则将vnode加入到insertedVnodeQueue中, 在vnode.data.hook.insert中会执行组件的mounted声明周期</li>
<li>setScope</li>
</ul>
</li>
</ul>
</li>
<li>将vnode.elm插入到父节点中</li>
</ul>
</li>
<li>将vnode.elm插入到父节点中</li>
</ul>
</li>
<li>2、创建普通dom元素<ul>
<li>如果vnode.tag存在<ul>
<li>根据tag创建dom元素</li>
<li>设置scopedId。设置scopedId的原理是什么?</li>
<li>递归创建子元素, 执行createChildren方法，内部调用了createElm，其实就是递归</li>
<li>调用vonode的create、inserted两个hook</li>
<li>将生成的dom元素插入到父节点中</li>
</ul>
</li>
<li>如果是注释节点, 直接创建并插入到父节点中</li>
<li>如果是文本节点, 直接创建并插入到父节点中</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>oldvnode是一个Vnode对象</p>
<ul>
<li>patchVnode(oldVnode, vnode)</li>
</ul>
</li>
<li><p>调用<code>invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch)</code></p>
<ul>
<li>当isInitialPatch是true并且vnode.parent存在时不会立马执行insertedVnodeQueue, 而是保存在pendingInsert上面
  等到patch执行完后将pendingInsert合并到父组件的insertedVnodeQueue上</li>
<li>在根组件patch完成后就会执行insertedVnodeQueue队列, 这个队列保存了所有需要进行mounted的子组件。
  保证了mounted的执行顺序，并且确保能访问到更新后的dom元素<pre><code class="language-js">  function invokeInsertHook (vnode, queue, initial) {
      // delay insert hooks for component root nodes, invoke them after the
      // element is really inserted
      // 延迟执行组件的mounted事件在所有dom元素插入到文档之后，确保在mounted中能访问到dom元素
      // 只有根组件的mounted事件是在自己patch完成后执行的
      // 内组件不是这样的，虽然内部组件patch完成后dom元素已经生成了并且插入到了父节点中
      // 但是mounted生命周期是延迟执行的。
      if (isTrue(initial) &amp;&amp; isDef(vnode.parent)) {
          // 将当前vnode的插入队列放到父组件的pendingInsert上
          vnode.parent.data.pendingInsert = queue
      } else {
          // 遍历vnode队列，执行vonde.data.hook.insert
          for (let i = 0; i &lt; queue.length; ++i) {
              queue[i].data.hook.insert(queue[i])
          }
      }
  }</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="patch时当组件根节点就会重新创建新的元素，走createelm的逻辑。">patch时当组件根节点就会重新创建新的元素，走createElm的逻辑。</h1>
<h1 id="vnode-hook">vnode hook</h1>
<p>像<code>directives、ref、attrs、class、dom-props、events、style、transition</code>等功能的实现，在vue里面是被设计成<code>modules</code>的。所谓的<code>modules</code>
就是组合使用vode的hook, 在特定的hook里面做不同的逻辑，结合起来就是一个<code>modules</code>。</p>
<ul>
<li><p>有哪些vode hook?</p>
<ul>
<li><p>自定义组件</p>
<ul>
<li>init 根据vnode创建自定义组件实例</li>
<li>prepatch 子组件重新渲染patch</li>
<li>insert</li>
<li>destroy</li>
</ul>
</li>
<li><p>通用</p>
<ul>
<li>create</li>
<li>activate</li>
<li>update 更新style、class等</li>
<li>postpatch</li>
<li>remove transition使用</li>
<li>destroy</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>- 指令使用，在vnode hook中调用
    - bind? update? unbind? inserted？ componentUpdated？</code></pre><ul>
<li><p>指令也是模块？</p>
</li>
<li><p>当vnode被销毁时将执行vnode的<code>destroy</code>hook</p>
<ul>
<li>既包含了上面说的哪些也有用户定义的hook</li>
</ul>
</li>
</ul>
<h1 id="insertedvnodequeue">insertedVnodeQueue</h1>
<ul>
<li>每个组件内部patch的时候都有一个vnode插队列</li>
<li>作用?</li>
</ul>
<h1 id="scoped">scoped</h1>
<ul>
<li>作用</li>
</ul>
<h1 id="children的patch过程">children的patch过程</h1>
<ul>
<li>children的patch过程是对新旧两个children数组进行比对找到相同的两个vnode进行patchVnode的逻辑</li>
<li>为什么要要找相同的vnode进行patch呢？<h3 id="vodechildren的patch算法">vodeChildren的patch算法</h3>
</li>
<li>判断oldCh的头和newCh的头，oldCh的尾和newCh的尾，oldCh的头和newCh的尾，oldCh的尾和newCh的头。如果其中一次判断认为这是两个相同的节点，
  那么就进行patchVnode的逻辑</li>
<li>当上面的条件都不满足时，就会通过遍历的方式找到相同的节点进行patch。通过暴力遍历显然是效率很低的， 所以vue里面采用了key来做优化。
  思路很简单，先遍历oldChildren建立key和vnode的对象，通过newVnode的key作为索引去找到对应的oldVnode。如果没找到才会遍历oldChildren，还是没找到的话就认为这是一个新的节点将会进行createEle的逻辑。<blockquote>
<p>注意： 就算两个vnode的key值是一样的，如果tag不一样，难么他们也不能认为是同样的vnode。</p>
</blockquote>
</li>
</ul>
<h1 id="抽象组件">抽象组件</h1>
<ul>
<li><p>不能使用ref获取实例
原因是<code>ref</code>在使用前就已经被去除了，所以ref是不起作用的。</p>
<pre><code class="language-js">if (isTrue(Ctor.options.abstract)) {
  // abstract components do not keep anything
  // other than props &amp; listeners &amp; slot

  // work around flow
  const slot = data.slot
  data = {}
  if (slot) {
      data.slot = slot
  }
}</code></pre>
</li>
</ul>
<h1 id="函数式组件">函数式组件</h1>
<h1 id="异步组件">异步组件</h1>
<h1 id="transition">transition</h1>
<h1 id="keep-alive">keep-alive</h1>
<h1 id="input标签的v-model和组件的v-model">input标签的v-model和组件的v-model</h1>
<h1 id="input使用v-model加上lazy时和不加的区别？">input使用v-model加上lazy时和不加的区别？</h1>
<h1 id="props是怎么传递到子组件的？-子组件为何不能那个修改props-props改变后为何子组件就会更新？">props是怎么传递到子组件的？ 子组件为何不能那个修改props? props改变后为何子组件就会更新？</h1>
<h1 id="vnodeparent是什么？">vnode.parent是什么？</h1>
<h1 id="为什么每个组件实例的createelement方法不一样？">为什么每个组件实例的$createElement方法不一样？</h1>
<h1 id="activeinstance和currentrenderinginstance区别">activeInstance和currentRenderingInstance区别?</h1>
<ul>
<li>activeInstance 正在patch的实例</li>
<li>currentRenderingInstance 正在执行render的实例</li>
</ul>
<h1 id="slots和scopedslots是什么时候获取的？">$slots和$scopedSlots是什么时候获取的？</h1>
<ol>
<li>父组件render方法</li>
<li>子组件vnode.componentOptions.children</li>
<li>options.__renderChildren = vnode.componentOptions.children</li>
<li>$slots、$scopedSlots</li>
</ol>
<h1 id="extendoptions、options、sealedoptions、superoptions">extendOptions、options、sealedOptions、superOptions</h1>

            </article> 
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>  
          </body>
      </html>